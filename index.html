<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Discover exquisite handcrafted jewellery - rings, necklaces, bracelets, and earrings. Shop our curated collection of fine jewelry.">
    <title>Guru Jewellery - Exquisite Handcrafted Jewelry</title>
    <link rel="stylesheet" href="./CSS/styles.css">
    <link rel="stylesheet" href="./CSS/signup-popup.css">
    <link rel="stylesheet" href="./CSS/admin-panel.css">
    <link rel="stylesheet" href="./CSS/mobile-nav.css">
    <link rel="stylesheet" href="./CSS/category-bar.css">
</head>

<body>
    <!-- Navigation -->
    <header class="header" role="banner">
        <nav class="nav container" aria-label="Main navigation">
            <div class="nav__brand">
                <h1 class="nav__logo">üíé Guru Jewellery</h1>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="nav__toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <span class="hamburger"></span>
            </button>

            <!-- Search Bar -->
            <div class="nav__search">
                <input type="search" id="searchInput" class="search__input" placeholder="Search jewellery..."
                    aria-label="Search products">
                <span class="search__icon">üîç</span>
            </div>

            <!-- Navigation Actions -->
            <div class="nav__actions">
                <button class="nav__action" id="darkModeToggle" aria-label="Toggle dark mode" title="Toggle dark mode">
                    <span class="icon">üåô</span>
                </button>

                <button class="nav__action" id="wishlistToggle" aria-label="Wishlist" title="View wishlist">
                    <span class="icon">‚ù§Ô∏è</span>
                    <span class="badge" id="wishlistBadge" aria-live="polite">0</span>
                </button>

                <button class="nav__action" id="cartToggle" aria-label="Shopping cart" title="View cart">
                    <span class="icon">üõçÔ∏è</span>
                    <span class="badge" id="cartBadge" aria-live="polite">0</span>
                </button>

                <!-- Profile Menu (Desktop) / Login Button -->
                <div class="profile-menu-container" id="profileMenuContainer">
                    <!-- Logged In: Profile Menu -->
                    <button class="nav__action" id="profileMenuToggle" aria-label="Profile menu" title="Profile"
                        style="display: none;">
                        <span class="icon">üë§</span>
                    </button>
                    <div class="profile-dropdown" id="profileDropdown">
                        <a href="#" class="profile-dropdown__item" id="myProfile">
                            <span class="icon">üë§</span> My Profile
                        </a>
                        <a href="#" class="profile-dropdown__item" id="myOrders">
                            <span class="icon">üì¶</span> My Orders
                        </a>
                        <a href="admin.html" class="profile-dropdown__item admin-only" id="adminPanel"
                            style="display: none;">
                            <span class="icon">‚öôÔ∏è</span> Admin Panel
                        </a>
                        <hr class="profile-dropdown__divider">
                        <a href="#" class="profile-dropdown__item" id="logoutBtn">
                            <span class="icon">üö™</span> Logout
                        </a>
                    </div>

                    <!-- Not Logged In: Login/Signup Button -->
                    <a href="login.html" class="btn-login" id="loginSignupBtn" style="display: none;">
                        Login / Signup
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Category Bar (Flipkart Style) -->
    <section class="category-bar-section" aria-label="Product categories">
        <div class="container">
            <div class="category-bar" id="categoryBar">
                <!-- Categories will be dynamically inserted here -->
                <div class="category-item loading-skeleton">
                    <div class="category-item__image-skeleton"></div>
                    <div class="category-item__text-skeleton"></div>
                </div>
                <div class="category-item loading-skeleton">
                    <div class="category-item__image-skeleton"></div>
                    <div class="category-item__text-skeleton"></div>
                </div>
                <div class="category-item loading-skeleton">
                    <div class="category-item__image-skeleton"></div>
                    <div class="category-item__text-skeleton"></div>
                </div>
                <div class="category-item loading-skeleton">
                    <div class="category-item__image-skeleton"></div>
                    <div class="category-item__text-skeleton"></div>
                </div>
                <div class="category-item loading-skeleton">
                    <div class="category-item__image-skeleton"></div>
                    <div class="category-item__text-skeleton"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero Carousel -->
    <section class="hero" aria-label="Luxury jewellery carousel">
        <div class="carousel" id="carousel">
            <div class="slides" id="slides" aria-live="polite">
                <!-- Slide 1 -->
                <article class="slide" data-title="Aurora Diamond Ring" data-price="$3,200">
                    <img src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?auto=format&fit=crop&w=1800&q=80"
                        alt="Woman wearing Aurora Diamond Ring" />
                    <span class="badge">New Arrival</span>
                    <div class="info" aria-hidden="false">
                        <span class="brand">Guru Jewellery</span>
                        <h2 class="title">Aurora Diamond Ring</h2>
                        <p class="desc">Hand-crafted 18k gold with ethically sourced brilliant-cut diamonds.
                            Simple, timeless, perfect for everyday elegance.</p>
                        <div class="price">
                            <span class="amount">$3,200</span>
                            <span class="old">$3,800</span>
                        </div>
                    </div>
                </article>

                <!-- Slide 2 -->
                <article class="slide" data-title="Golden Halo Necklace" data-price="$1,450">
                    <img src="https://images.unsplash.com/photo-1492707892479-7bc8d5a4ee93?auto=format&fit=crop&w=1800&q=80"
                        alt="Woman wearing Golden Halo Necklace" />
                    <span class="badge">Bestseller</span>
                    <div class="info">
                        <span class="brand">Guru Jewellery</span>
                        <h2 class="title">Golden Halo Necklace</h2>
                        <p class="desc">Delicate chain with a hammered gold halo pendant. Compliments both
                            formal wear and casual tailoring.</p>
                        <div class="price">
                            <span class="amount">$1,450</span>
                        </div>
                    </div>
                </article>

                <!-- Slide 3 -->
                <article class="slide" data-title="Sapphire Elegance Bracelet" data-price="$2,890">
                    <img src="https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?auto=format&fit=crop&w=1800&q=80"
                        alt="Woman wearing Sapphire Elegance Bracelet" />
                    <span class="badge">Limited</span>
                    <div class="info">
                        <span class="brand">Maison Lumi√®re</span>
                        <h2 class="title">Sapphire Elegance Bracelet</h2>
                        <p class="desc">Stunning sapphire and diamond bracelet in platinum setting.
                            A masterpiece of craftsmanship and luxury.</p>
                        <div class="price">
                            <span class="amount">$2,890</span>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Controls -->
            <button class="nav-btn nav-prev" id="prevBtn" aria-label="Previous slide">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            </button>

            <button class="nav-btn nav-next" id="nextBtn" aria-label="Next slide">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <polyline points="9 6 15 12 9 18"></polyline>
                </svg>
            </button>

            <div class="dots" id="dots" role="tablist" aria-label="Slide dots"></div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main container" role="main">
        <!-- Filters & Controls -->
        <aside class="filters" role="search" aria-label="Product filters">
            <div class="filters__group">
                <label for="categoryFilter" class="filter__label">Category</label>
                <select id="categoryFilter" class="filter__select">
                    <option value="all">All Categories</option>
                    <option value="rings">Rings</option>
                    <option value="necklaces">Necklaces</option>
                    <option value="bracelets">Bracelets</option>
                    <option value="earrings">Earrings</option>
                </select>
            </div>

            <div class="filters__group">
                <label for="sortBy" class="filter__label">Sort By</label>
                <select id="sortBy" class="filter__select">
                    <option value="newest">Newest Arrivals</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="rating">Highest Rated</option>
                </select>
            </div>

            <button class="filters__clear" id="clearFilters">Clear All Filters</button>
        </aside>

        <!-- Product Grid -->
        <section class="products" aria-label="Product listing">
            <!-- Mobile Search Bar (visible only on mobile) -->
            <div class="mobile-search-container">
                <div class="mobile-search">
                    <input type="search" id="mobileSearchInput" class="mobile-search__input"
                        placeholder="Search jewellery..." aria-label="Search products on mobile">
                    <span class="mobile-search__icon">üîç</span>
                </div>
            </div>

            <div class="products__header">
                <h2 class="products__title">Our Collection</h2>
                <p class="products__count" id="productCount" aria-live="polite">12 products</p>
            </div>

            <div class="product-grid" id="productGrid" role="list">
                <!-- Products will be dynamically inserted here by JavaScript -->
            </div>

            <!-- No Results Message -->
            <div class="no-results" id="noResults" style="display: none;">
                <p>No products found matching your criteria.</p>
                <button class="btn btn--secondary" id="resetFilters">Reset Filters</button>
            </div>
        </section>
    </main>

    <!-- Product Detail Modal -->
    <div class="modal" id="productModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle"
        style="display: none;">
        <div class="modal__overlay" aria-hidden="true"></div>
        <div class="modal__content">
            <button class="modal__close" aria-label="Close modal">&times;</button>

            <div class="modal__body">
                <!-- Image Carousel -->
                <div class="modal__gallery">
                    <button class="carousel__btn carousel__btn--prev" aria-label="Previous image">‚Äπ</button>
                    <img id="modalImage" class="modal__image" src="" alt="Product Image">
                    <button class="carousel__btn carousel__btn--next" aria-label="Next image">‚Ä∫</button>
                    <div class="carousel__dots" id="carouselDots"></div>
                </div>

                <!-- Product Info -->
                <div class="modal__info">
                    <div class="modal__header">
                        <h3 id="modalTitle" class="modal__title">Product Title</h3>
                        <div class="modal__rating" id="modalRating">
                            <!-- Stars rendered via JS -->
                        </div>
                    </div>

                    <div class="modal__price-box">
                        <span class="modal__price" id="modalPrice">‚Çπ0</span>
                        <span class="modal__mrp" id="modalMrp"></span>
                        <span class="modal__discount" id="modalDiscount"></span>
                    </div>

                    <div class="modal__description-box">
                        <p class="modal__description" id="modalDescription">Description goes here...</p>
                    </div>

                    <!-- Product Specifications -->
                    <div class="modal__specs">
                        <div class="spec-row">
                            <span class="spec-label">Material:</span>
                            <span class="spec-value" id="modalMaterial">-</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Plating:</span>
                            <span class="spec-value" id="modalPlating">-</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Occasion:</span>
                            <span class="spec-value" id="modalOccasion">-</span>
                        </div>
                        <div class="spec-row">
                            <span class="spec-label">Color:</span>
                            <span class="spec-value" id="modalColor">-</span>
                        </div>
                    </div>

                    <!-- Options -->
                    <div class="modal__options">
                        <div class="option__group">
                            <label for="sizeSelect" class="option__label">Size</label>
                            <select id="sizeSelect" class="option__select">
                                <option value="free">Free Size</option>
                            </select>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="modal__actions">
                        <div style="flex: 1; display: flex; gap: 0.5rem;">
                            <button class="btn btn--primary" id="addToCartBtn"
                                style="flex: 1; padding: 0.5rem; font-size: 1rem; white-space: nowrap;">
                                Add to Cart
                            </button>
                            <button class="btn btn--primary" id="modalBuyNowBtn"
                                style="flex: 1; padding: 0.5rem; font-size: 1rem; background-color: #ff9f00; border-color: #ff9f00; white-space: nowrap;">
                                Buy Now
                            </button>
                        </div>
                        <button class="btn btn--secondary" id="modalWishlistBtn" aria-label="Add to wishlist"
                            style="width: auto; padding: 0.5rem 1rem;">
                            ‚ô°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <aside class="cart" id="cartPanel" aria-label="Shopping cart" style="display: none;">
        <div class="cart__overlay"></div>
        <div class="cart__content">
            <div class="cart__header">
                <h3 class="cart__title">Shopping Cart</h3>
                <button class="cart__close" aria-label="Close cart">&times;</button>
            </div>

            <div class="cart__body" id="cartItems">
                <!-- Cart items will be dynamically inserted here -->
                <div class="cart__empty" id="emptyCart">
                    <p>Your cart is empty</p>
                    <p class="cart__empty-subtitle">Add some beautiful pieces to get started!</p>
                </div>
            </div>

            <div class="cart__footer">
                <div class="cart__subtotal">
                    <span>Subtotal:</span>
                    <span class="cart__total" id="cartTotal">$0.00</span>
                </div>
                <button class="btn btn--primary btn--block" id="checkoutBtn">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </aside>

    <!-- Wishlist Sidebar -->
    <aside class="cart" id="wishlistPanel" aria-label="Wishlist" style="display: none;">
        <div class="cart__overlay"></div>
        <div class="cart__content">
            <div class="cart__header">
                <h3 class="cart__title">My Wishlist</h3>
                <button class="cart__close" aria-label="Close wishlist">&times;</button>
            </div>

            <div class="cart__body" id="wishlistItems">
                <!-- Wishlist items will be dynamically inserted here -->
                <div class="cart__empty" id="emptyWishlist">
                    <p>Your wishlist is empty</p>
                    <p class="cart__empty-subtitle">Add your favorite pieces to save them for later!</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <p class="footer__text">
                &copy; 2025 Guru Jewellery. Handcrafted with ‚ú®
            </p>
            <p class="footer__note">
                Frontend-only demo ‚Ä¢ All data stored locally
            </p>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

    <script src="./JS/product-service.js"></script>
    <script src="./JS/wishlist-service.js"></script>
    <script src="./JS/app.js"></script>
    <script src="./JS/signup-popup.js"></script>
    <script src="./JS/auth-state.js"></script>

</body>

</html>